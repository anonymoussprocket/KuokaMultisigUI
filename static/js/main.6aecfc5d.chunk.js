(this.webpackJsonpmultisig=this.webpackJsonpmultisig||[]).push([[0],{146:function(e,t){},230:function(e,t,n){},231:function(e,t,n){},236:function(e,t){},238:function(e,t){},250:function(e,t){},252:function(e,t){},279:function(e,t){},281:function(e,t){},282:function(e,t){},287:function(e,t){},289:function(e,t){},308:function(e,t){},320:function(e,t){},323:function(e,t){},391:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(25),c=n.n(i),s=(n(230),n(231),n(67)),o=n(30),l=n(0),u=n(32),d=n(18),p=n(422),b=n(423),m=n(20),j=n(10),v=n(38),g=n(91).default,h=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var t,n,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new m.i({name:"Multisig"}),n="mainnet"===g.network?"mainnet":"ghostnet",e.next=4,t.requestPermissions({network:{type:n}});case 4:return e.next=6,t.getActiveAccount();case 6:return a=e.sent,console.log("connected to ".concat(n," at ").concat(g.rpc," as ").concat(a.address)),e.abrupt("return",{client:t,account:a.address});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.TezosNodeReader.getContractStorage(g.rpc,t);case 3:return n=e.sent,e.abrupt("return",Number(Object(v.JSONPath)({path:"$.args[0].args[0].int",json:n})[0])+1);case 7:return e.prev=7,e.t0=e.catch(0),console.error("could not read operation index for ".concat(t)),e.abrupt("return",0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),x=function(e,t,n,a){var r=function(e,t,n,a){var r=j.TezosMessageUtils.writeBufferWithHint(e,"chain_id").toString("hex");return'{ "prim": "Pair", "args": [{ "bytes": "'.concat(r,'" }, { "prim": "Pair", "args": [{ "int": "').concat(t,'" }, [{ "prim": "DROP" }, { "prim": "NIL", "args": [{ "prim": "operation" }] }, { "prim": "PUSH", "args": [{ "prim": "address" }, { "bytes": "').concat(j.TezosMessageUtils.writeAddress(n),'" }] }, { "prim": "CONTRACT", "args": [{ "prim": "address" }], "annots": ["%setAdministrator"] }, { "prim": "IF_NONE", "args": [ [{ "prim": "PUSH", "args": [{ "prim": "int" }, { "int": "10" }] }, { "prim": "FAILWITH" }], [] ] }, { "prim": "PUSH", "args": [{ "prim": "mutez" }, { "int": "0" }] }, { "prim": "PUSH", "args": [{ "prim": "address" }, { "bytes": "').concat(j.TezosMessageUtils.writeAddress(a),'" }] }, { "prim": "TRANSFER_TOKENS" }, { "prim": "CONS" }] ] }] }')}(e,t,n,a);return{operation:r,bytes:j.TezosMessageUtils.writePackedData(r,"")}},O=function(e,t,n,a){var r=function(e,t,n,a){var r=j.TezosMessageUtils.writeBufferWithHint(e,"chain_id").toString("hex");return'{ "prim": "Pair", "args": [ { "bytes": "'.concat(r,'" }, { "prim": "Pair", "args": [ { "int": "').concat(t,'" }, { "prim": "Pair", "args": [ { "int": "').concat(n,'" }, [ ').concat(a.map((function(e){return'{ "bytes": "'.concat(j.TezosMessageUtils.writePublicKey(e),'" }')})).join(", ")," ] ] } ] } ] }")}(e,t,n,a);return{operation:r,bytes:j.TezosMessageUtils.writePackedData(r,"")}};function w(e,t,n,a,r){var i=function(e,t,n,a,r){var i=j.TezosMessageUtils.writeBufferWithHint(e,"chain_id").toString("hex");return'{ "prim": "Pair", "args": [ { "bytes": "'.concat(i,'" }, { "prim": "Pair", "args": [ { "int": "').concat(t,'" }, [ { "prim": "DROP" }, { "prim": "NIL", "args": [ { "prim": "operation" } ] }, { "prim": "PUSH", "args": [ { "prim": "address" }, { "bytes": "').concat(j.TezosMessageUtils.writeAddress(n),'" } ] }, { "prim": "CONTRACT", "args": [ { "prim": "pair", "args": [ { "prim": "mutez" }, { "prim": "address" } ] } ], "annots": [ "%transfer" ] }, { "prim": "IF_NONE", "args": [ [ { "prim": "PUSH", "args": [ { "prim": "int" }, { "int": "3" } ] }, { "prim": "FAILWITH" } ], [] ] }, { "prim": "PUSH", "args": [ { "prim": "mutez" }, { "int": "0" } ] }, { "prim": "PUSH", "args": [ { "prim": "pair", "args": [ { "prim": "mutez" }, { "prim": "address" } ] }, { "prim": "Pair", "args": [ { "int": "').concat(r,'" }, { "bytes": "').concat(j.TezosMessageUtils.writeAddress(a),'" } ] } ] }, { "prim": "TRANSFER_TOKENS" }, { "prim": "CONS" } ] ] } ]}')}(e,t,n,a,r);return{operation:i,bytes:j.TezosMessageUtils.writePackedData(i,"")}}var k=function(e,t,n,a){var r=function(e,t,n,a){var r=j.TezosMessageUtils.writeBufferWithHint(e,"chain_id").toString("hex");return'{ "prim": "Pair", "args": [ { "bytes": "'.concat(r,'" }, { "prim": "Pair", "args": [ { "int": "').concat(t,'" }, [ { "prim": "DROP" }, { "prim": "NIL", "args": [{ "prim": "operation" }] }, { "prim": "PUSH", "args": [ { "prim": "address" }, { "bytes": "').concat(j.TezosMessageUtils.writeAddress(n),'" } ] }, { "prim": "CONTRACT", "args": [{ "prim": "option", "args": [ { "prim": "key_hash" } ] }], "annots": ["%delegate"] }, { "prim": "IF_NONE", "args": [ [ { "prim": "PUSH", "args": [{ "prim": "int" }, { "int": "3" }] }, { "prim": "FAILWITH" } ], [] ] }, { "prim": "PUSH", "args": [{ "prim": "mutez" }, { "int": "0" }] }, { "prim": "PUSH", "args": [ { "prim": "option", "args": [ { "prim": "key_hash" } ] }, { "prim": "Some", "args": [{ "bytes": "').concat(j.TezosMessageUtils.writeAddress(a).slice(2),'" }]} ] }, { "prim": "TRANSFER_TOKENS" }, { "prim": "CONS" } ] ] } ] }')}(e,t,n,a);return{operation:r,bytes:j.TezosMessageUtils.writePackedData(r,"")}},y=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t,n,a,r){var i,c,s,o,u,d=arguments;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.client,c=t.account,s=d.length>4&&void 0!==d[4]?d[4]:"submit",o='{ "prim": "Pair", "args": [ [ '.concat(a.map((function(e){return'{ "prim": "Elt", "args": [{ "string": "'.concat(e.address,'" }, { "string": "').concat(e.signature,'" }] }')})).join(", ")," ], ").concat(r," ] }"),e.next=5,T({client:i,account:c},[{to:n,amtInMuTez:0,entrypoint:s,parameters:o}]);case 5:if("applied"===(u=e.sent).status){e.next=8;break}throw new Error("TEZOS TX FAILED");case 8:return e.abrupt("return",u);case 9:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),N=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t,n,a){var r,i,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.client,i=t.account,e.next=3,T({client:r,account:i},[{to:n,amtInMuTez:0,entrypoint:"execute",parameters:'{"int": "'.concat(a,'"}')}]);case 3:if("applied"===(c=e.sent).status){e.next=6;break}throw new Error("TEZOS TX FAILED");case 6:return e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",j.TezosNodeReader.getChainId(g.rpc));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t,n){var a,r,i,c,s,o=arguments;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.client,r=t.account,o.length>2&&void 0!==o[2]?o[2]:500,o.length>3&&void 0!==o[3]?o[3]:50,i=[],n.forEach((function(e){i.push({kind:m.D.TRANSACTION,amount:e.amtInMuTez,destination:e.to,source:r,parameters:{entrypoint:e.entrypoint,value:JSON.parse(e.parameters)}})})),e.prev=5,c=0,e.prev=7,e.next=10,j.TezosNodeReader.getBlockHead(g.rpc);case 10:c=e.sent.header.level,e.next=15;break;case 13:e.prev=13,e.t0=e.catch(7);case 15:return e.next=17,a.requestOperation({operationDetails:i});case 17:if(s=e.sent,!(c>0)){e.next=26;break}return e.prev=19,e.next=22,j.TezosNodeReader.awaitOperationConfirmation(g.rpc,c,s.transactionHash,7);case 22:e.next=26;break;case 24:e.prev=24,e.t1=e.catch(19);case 26:return e.abrupt("return",s.transactionHash);case 29:throw e.prev=29,e.t2=e.catch(5),console.err("failed to submit operation: ".concat(i)),console.error(e.t2),e.t2;case 34:case"end":return e.stop()}}),e,null,[[5,29],[7,13],[19,24]])})));return function(t,n){return e.apply(this,arguments)}}(),A=n(417),I=Object(A.a)((function(e){return{menu:{display:"flex",margin:"0 auto"},menuItem:{color:"black",display:"block",fontSize:"2vw",margin:"1vw 2vw 2vw 2vw","&:hover":{textDecoration:"none"}},title:{fontSize:"5vw",margin:"2.5vw 1vw 1vw 1vw"},header:{display:"flex",justifyContent:"center"},wallet:{border:"0.2vw solid black",borderRadius:"0.3vw",width:"50%",margin:"2.5vw auto",padding:"1vw",background:"black",color:"white",fontWeight:"bold",textTransform:"none",fontSize:"1.1vw","&:hover":{cursor:"pointer",background:"white",color:"black"}},box:{width:"30%"},container:{width:"70%",margin:"0 auto",padding:"3vw"},select:{width:"fit-content",margin:"0.7vw"},label:{display:"inline-block",padding:"0.7vw",verticalAlign:"top"},input:{margin:"0.7vw"},display:{margin:"4vw"}}})),z=n(3),F=n(91).default,P=function(){var e=I(),t=Object(a.useState)("rotatekeys"),n=Object(d.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)("operation data"),s=Object(d.a)(c,2),o=s[0],j=s[1],v=Object(a.useState)("your signature"),g=Object(d.a)(v,2),y=g[0],N=g[1],T=Object(a.useState)(F.tokens[0].multisigAddr),A=Object(d.a)(T,2),P=A[0],C=A[1],M=function(t){return Object(z.jsxs)("form",{onSubmit:t,children:[Object(z.jsx)("label",{htmlFor:"threshold",className:e.label,children:"Threshold"}),Object(z.jsx)("input",{className:e.input,type:"number",name:"threshold",placeholder:"2",required:!0}),Object(z.jsx)("label",{htmlFor:"keys",className:e.label,children:"Keys"}),Object(z.jsx)("input",{className:e.input,type:"text",name:"keys",placeholder:"edpk..., edpk..., edpk...",required:!0}),Object(z.jsx)("input",{className:e.input,type:"submit",value:"Sign"})]})},D=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var n,a,r,i,c,s,o,u,p;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n=F.tokens.filter((function(e){return e.tokenAddr===P}))[0].multisigAddr,e.next=5,Promise.all([S(),f(n),h()]);case 5:return a=e.sent,r=Object(d.a)(a,3),i=r[0],c=r[1],s=r[2],o=s.client,s.account,u=O(i,c,t.target.threshold.value,t.target.keys.value.split(",").map((function(e){return e.trim()}))),e.next=15,o.requestSignPayload({signingType:m.B.MICHELINE,payload:u.bytes});case 15:p=e.sent,N(p.signature),j(u.operation),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(1),console.log("Failed to create operation",e.t0),alert("Failed to create operation");case 24:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var n,a,r,i,c,s,o,u,p;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n=F.tokens.filter((function(e){return e.tokenAddr===P}))[0].multisigAddr,e.next=5,Promise.all([S(),f(n),h()]);case 5:return a=e.sent,r=Object(d.a)(a,3),i=r[0],c=r[1],s=r[2],o=s.client,s.account,u=x(i,c,t.target.admin.value),e.next=15,o.requestSignPayload({signingType:m.B.MICHELINE,payload:u.bytes});case 15:p=e.sent,N(p.signature),j(u.operation),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(1),console.log("Failed to create operation",e.t0),alert("Failed to create operation");case 24:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var n,a,r,i,c,s,o,u,p;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n=F.tokens.filter((function(e){return e.tokenAddr===P}))[0].multisigAddr,e.next=5,Promise.all([S(),f(n),h()]);case 5:return a=e.sent,r=Object(d.a)(a,3),i=r[0],c=r[1],s=r[2],o=s.client,s.account,u=k(i,c,n,t.target.delegate.value),e.next=15,o.requestSignPayload({signingType:m.B.MICHELINE,payload:u.bytes});case 15:p=e.sent,N(p.signature),j(u.operation),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(1),console.log("Failed to create operation",e.t0),alert("Failed to create operation");case 24:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var n,a,r,i,c,s,o,u,p;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n=F.tokens.filter((function(e){return e.tokenAddr===P}))[0].multisigAddr,e.next=5,Promise.all([S(),f(n),h()]);case 5:return a=e.sent,r=Object(d.a)(a,3),i=r[0],c=r[1],s=r[2],o=s.client,s.account,u=w(i,c,n,t.target.address.value,t.target.amount.value),e.next=15,o.requestSignPayload({signingType:m.B.MICHELINE,payload:u.bytes});case 15:p=e.sent,N(p.signature),j(u.operation),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(1),console.log("Failed to create operation",e.t0),alert("Failed to create operation");case 24:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsxs)("div",{className:e.container,children:[Object(z.jsx)("label",{htmlFor:"token",className:e.label,children:"Token"}),Object(z.jsx)(p.a,{className:e.select,labelId:"token",id:"token",value:P,label:"token",onChange:function(e){C(e.target.value)},children:F.tokens.map((function(e){return Object(z.jsx)(b.a,{value:"multisig"===e.tokenType?e.multisigAddr:e.tokenAddr,children:e.tokenName},"menuItem".concat(e.tokenName))}))}),Object(z.jsx)("label",{htmlFor:"operations",className:e.label,children:"Action"}),Object(z.jsxs)(p.a,{className:e.select,labelId:"operations",id:"operations",value:r,label:"Operation",onChange:function(e){i(e.target.value)},children:[Object(z.jsx)(b.a,{value:"setadmin",children:"Set Admin"}),Object(z.jsx)(b.a,{value:"rotatekeys",children:"Rotate Keys"}),Object(z.jsx)(b.a,{value:"delegate",children:"Delegate"}),Object(z.jsx)(b.a,{value:"balancetransfer",children:"Balance Transfer"})]}),function(){switch(r){case"setadmin":return Object(z.jsxs)("form",{onSubmit:E,children:[Object(z.jsx)("label",{className:e.label,children:"Admin:"}),Object(z.jsx)("input",{className:e.input,type:"text",name:"admin",placeholder:"New Admin Address",required:!0}),Object(z.jsx)("input",{className:e.input,type:"submit",value:"Sign"})]});case"rotatekeys":default:return M(D);case"delegate":return Object(z.jsxs)("form",{onSubmit:U,children:[Object(z.jsx)("label",{className:e.label,children:"Delegate:"}),Object(z.jsx)("input",{className:e.input,type:"text",name:"delegate",placeholder:"Delegate Address",required:!0}),Object(z.jsx)("input",{className:e.input,type:"submit",value:"Sign"})]});case"balancetransfer":return Object(z.jsxs)("form",{onSubmit:H,children:[Object(z.jsx)("label",{className:e.label,children:"Address:"}),Object(z.jsx)("input",{className:e.input,type:"text",name:"address",placeholder:"Address",required:!0}),Object(z.jsx)("label",{className:e.label,children:"Amount:"}),Object(z.jsx)("input",{className:e.input,type:"number",name:"amount",placeholder:"Amount",required:!0}),Object(z.jsx)("input",{className:e.input,type:"submit",value:"Sign"})]})}}(),Object(z.jsxs)("div",{className:e.display,children:[Object(z.jsx)("label",{htmlFor:"operation",className:e.label,children:"Operation"}),Object(z.jsx)("textarea",{name:"operation",className:e.input,readOnly:!0,style:{width:"600px"},value:o}),Object(z.jsx)("br",{}),Object(z.jsx)("label",{htmlFor:"signature",className:e.label,children:"Signature"}),Object(z.jsx)("input",{name:"signature",className:e.input,type:"text",value:y,readOnly:!0,style:{width:"600px"}})]})]})},C=Object(A.a)((function(e){return{menu:{display:"flex",margin:"0 auto"},menuItem:{color:"black",display:"block",fontSize:"2vw",margin:"1vw 2vw 2vw 2vw","&:hover":{textDecoration:"none"}},title:{fontSize:"5vw",margin:"2.5vw 1vw 1vw 1vw"},header:{display:"flex",justifyContent:"center"},wallet:{border:"0.2vw solid black",borderRadius:"0.3vw",width:"50%",margin:"2.5vw auto",padding:"1vw",background:"black",color:"white",fontWeight:"bold",textTransform:"none",fontSize:"1.1vw","&:hover":{cursor:"pointer",background:"white",color:"black"}},box:{width:"30%"},container:{width:"70%",margin:"0 auto",padding:"3vw"},select:{width:"fit-content",margin:"0.7vw"},label:{padding:"0.7vw"},input:{margin:"0.7vw"},display:{margin:"4vw"}}})),M=n(91).default,D=function(){var e=C(),t=Object(a.useState)(M.tokens[0].multisigAddr),n=Object(d.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)(0),s=Object(d.a)(c,2),o=s[0],m=s[1];Object(a.useEffect)((function(){var e=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,e.prev=1,e.next=4,f(r);case 4:t=e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:m(t-1);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();e().catch(console.error)}),[r]);var j=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,h();case 4:return n=e.sent,e.next=7,N(n,r,t.target.id.value);case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("Failed to submit operation",e.t0),alert("Failed to submit operation");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsx)("div",{className:e.container,children:Object(z.jsxs)("form",{onSubmit:j,children:[Object(z.jsx)("label",{htmlFor:"token",className:e.label,children:"Token"}),Object(z.jsx)(p.a,{className:e.select,labelId:"token",id:"token",value:r,label:"token",onChange:function(e){i(e.target.value)},children:M.tokens.map((function(e){return Object(z.jsx)(b.a,{value:e.multisigAddr,children:e.tokenName},"menuItem".concat(e.tokenName))}))}),Object(z.jsx)("label",{htmlFor:"id",className:e.label,children:"Operation Index"}),Object(z.jsx)("input",{className:e.input,type:"number",name:"id",value:o,onChange:function(e){return m(e.target.value)},required:!0}),Object(z.jsx)("input",{className:e.input,type:"submit",value:"Execute"})]})})},E=Object(A.a)((function(e){return{menu:{display:"flex",margin:"0 auto"},menuItem:{color:"black",display:"block",fontSize:"2vw",margin:"1vw 2vw 2vw 2vw","&:hover":{textDecoration:"none"}},title:{fontSize:"5vw",margin:"2.5vw 1vw 1vw 1vw"},header:{display:"flex",justifyContent:"center"},wallet:{border:"0.2vw solid black",borderRadius:"0.3vw",width:"50%",margin:"2.5vw auto",padding:"1vw",background:"black",color:"white",fontWeight:"bold",textTransform:"none",fontSize:"1.1vw","&:hover":{cursor:"pointer",background:"white",color:"black"}},box:{width:"30%"},container:{flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"space-evenly"}}})),U=function(){var e=E();return Object(z.jsx)("div",{className:e.header,children:Object(z.jsxs)("div",{className:e.container,children:[Object(z.jsx)("h1",{className:e.title,children:"Tezos Africa MultiSig UI"}),Object(z.jsxs)("div",{className:e.menu,children:[Object(z.jsx)(s.b,{to:"/create",className:e.menuItem,children:"Create"}),Object(z.jsx)(s.b,{to:"/submit",className:e.menuItem,children:"Submit"}),Object(z.jsx)(s.b,{to:"/execute",className:e.menuItem,children:"Execute"}),Object(z.jsx)(s.b,{to:"/rotate",className:e.menuItem,children:"Rotate"})]})]})})},H=Object(A.a)((function(e){return{menu:{display:"flex",margin:"0 auto"},menuItem:{color:"black",display:"block",fontSize:"2vw",margin:"1vw 2vw 2vw 2vw","&:hover":{textDecoration:"none"}},title:{fontSize:"5vw",margin:"2.5vw 1vw 1vw 1vw"},header:{display:"flex",justifyContent:"center"},wallet:{border:"0.2vw solid black",borderRadius:"0.3vw",width:"50%",margin:"2.5vw auto",padding:"1vw",background:"black",color:"white",fontWeight:"bold",textTransform:"none",fontSize:"1.1vw","&:hover":{cursor:"pointer",background:"white",color:"black"}},box:{width:"30%"},container:{width:"70%",margin:"0 auto",padding:"3vw"},select:{width:"fit-content",margin:"0.7vw"},label:{padding:"0.7vw"},input:{margin:"0.7vw"},display:{margin:"4vw"},opID:{margin:"2vw"}}})),R=n(91).default,q=function(){var e=H(),t=Object(a.useState)(1),n=Object(d.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)(0),s=Object(d.a)(c,2),o=s[0],m=s[1],v=Object(a.useState)(R.tokens[0].multisigAddr),g=Object(d.a)(v,2),x=g[0],O=g[1];Object(a.useEffect)((function(){var e=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,e.prev=1,e.next=4,f(x);case 4:t=e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:m(t);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();e().catch(console.error)}),[x]);var w=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var n,a,i,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t.preventDefault(),e.prev=1,n=[],a=1;a<=r;a++)n.push({signature:t.target["signature".concat(a)].value,address:t.target["address".concat(a)].value});return n.sort((function(e,t){var n=BigInt("0x"+j.TezosMessageUtils.writeAddress(e.address)),a=BigInt("0x"+j.TezosMessageUtils.writeAddress(t.address));return n>a?1:n<a?-1:0})),e.next=7,h();case 7:return i=e.sent,e.next=10,f(x);case 10:return c=e.sent,e.next=13,y(i,x,n,t.target.operation.value,"submit");case 13:alert("operation submitted"),m(c),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),console.log("Failed to submit operation",e.t0),alert("Failed to submit operation");case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsxs)("div",{className:e.container,children:[Object(z.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i(e.target.count.value)},children:[Object(z.jsx)("label",{htmlFor:"count",className:e.label,children:"Signature Count"}),Object(z.jsx)("input",{className:e.input,type:"number",min:1,name:"count",placeholder:"Signature Count",required:!0}),Object(z.jsx)("input",{className:e.input,type:"submit",value:"Set"})]}),Object(z.jsx)("br",{}),function(){for(var t=[],n=1;n<=r;n++)t.push(Object(z.jsxs)("div",{children:[Object(z.jsxs)("label",{htmlFor:"address".concat(n),className:e.label,children:["Address ",n]}),Object(z.jsx)("input",{className:e.input,type:"text",name:"address".concat(n),placeholder:"Address",required:!0}),Object(z.jsxs)("label",{htmlFor:"signature".concat(n),className:e.label,children:["Signature ",n]}),Object(z.jsx)("input",{className:e.input,type:"text",name:"signature".concat(n),placeholder:"Signature",required:!0})]},"sigContainer".concat(n)));return Object(z.jsxs)("form",{onSubmit:w,children:[Object(z.jsx)("label",{htmlFor:"token",className:e.label,children:"Token"}),Object(z.jsx)(p.a,{className:e.select,labelId:"token",id:"token",value:x,label:"token",onChange:function(e){O(e.target.value)},children:R.tokens.map((function(e){return Object(z.jsx)(b.a,{value:e.multisigAddr,children:e.tokenName},"menuItem".concat(e.tokenName))}))}),Object(z.jsx)("label",{htmlFor:"operation",className:e.label,children:"Operation"}),Object(z.jsx)("input",{className:e.input,type:"text",name:"operation",placeholder:"Operation",required:!0}),Object(z.jsx)("br",{}),Object(z.jsx)("br",{}),t,Object(z.jsx)("input",{className:e.input,type:"submit",value:"Submit"})]})}(),Object(z.jsxs)("div",{className:e.opID,children:["Operation Index: ",o]})]})},B=Object(A.a)((function(e){return{menu:{display:"flex",margin:"0 auto"},menuItem:{color:"black",display:"block",fontSize:"2vw",margin:"1vw 2vw 2vw 2vw","&:hover":{textDecoration:"none"}},title:{fontSize:"5vw",margin:"2.5vw 1vw 1vw 1vw"},header:{display:"flex",justifyContent:"center"},wallet:{border:"0.2vw solid black",borderRadius:"0.3vw",width:"50%",margin:"2.5vw auto",padding:"1vw",background:"black",color:"white",fontWeight:"bold",textTransform:"none",fontSize:"1.1vw","&:hover":{cursor:"pointer",background:"white",color:"black"}},box:{width:"30%"},container:{width:"70%",margin:"0 auto",padding:"3vw"},select:{width:"fit-content",margin:"0.7vw"},label:{padding:"0.7vw"},input:{margin:"0.7vw"},display:{margin:"4vw"},opID:{margin:"2vw"}}})),L=n(91).default,W=function(){var e=B(),t=Object(a.useState)(1),n=Object(d.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)(L.tokens[0].multisigAddr),s=Object(d.a)(c,2),o=s[0],m=s[1],v=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var n,a,i;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t.preventDefault(),e.prev=1,n=[],a=1;a<=r;a++)n.push({signature:t.target["signature".concat(a)].value,address:t.target["address".concat(a)].value});return n.sort((function(e,t){var n=BigInt("0x"+j.TezosMessageUtils.writeAddress(e.address)),a=BigInt("0x"+j.TezosMessageUtils.writeAddress(t.address));return n>a?1:n<a?-1:0})),e.next=7,h();case 7:return i=e.sent,e.next=10,y(i,o,n,t.target.operation.value,"rotate");case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log("Failed to submit operation",e.t0),alert("Failed to submit operation");case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsxs)("div",{className:e.container,children:[Object(z.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i(e.target.count.value)},children:[Object(z.jsx)("label",{htmlFor:"count",className:e.label,children:"Signature Count"}),Object(z.jsx)("input",{className:e.input,type:"number",min:1,name:"count",placeholder:"Signature Count",required:!0}),Object(z.jsx)("input",{className:e.input,type:"submit",value:"Set"})]}),Object(z.jsx)("br",{}),function(){for(var t=[],n=1;n<=r;n++)t.push(Object(z.jsxs)("div",{children:[Object(z.jsxs)("label",{htmlFor:"address".concat(n),className:e.label,children:["Address ",n]}),Object(z.jsx)("input",{className:e.input,type:"text",name:"address".concat(n),placeholder:"Address",required:!0}),Object(z.jsxs)("label",{htmlFor:"signature".concat(n),className:e.label,children:["Signature ",n]}),Object(z.jsx)("input",{className:e.input,type:"text",name:"signature".concat(n),placeholder:"Signature",required:!0})]},"sigContainer".concat(n)));return Object(z.jsxs)("form",{onSubmit:v,children:[Object(z.jsx)("label",{htmlFor:"token",className:e.label,children:"Token"}),Object(z.jsx)(p.a,{className:e.select,labelId:"token",id:"token",value:o,label:"token",onChange:function(e){m(e.target.value)},children:L.tokens.map((function(e){return Object(z.jsx)(b.a,{value:e.multisigAddr,children:e.tokenName},"menuItem".concat(e.tokenName))}))}),Object(z.jsx)("label",{htmlFor:"operation",className:e.label,children:"Operation"}),Object(z.jsx)("input",{className:e.input,type:"text",name:"operation",placeholder:"Operation",required:!0}),Object(z.jsx)("br",{}),Object(z.jsx)("br",{}),t,Object(z.jsx)("input",{className:e.input,type:"submit",value:"Rotate"})]})}()]})};var _=function(){return Object(z.jsx)(s.a,{children:Object(z.jsxs)("div",{className:"App",children:[Object(z.jsx)(U,{}),Object(z.jsxs)(o.c,{children:[Object(z.jsx)(o.a,{exact:!0,path:"/",children:Object(z.jsx)(P,{})})," ",Object(z.jsx)(o.a,{exact:!0,path:"/create",children:Object(z.jsx)(P,{})}),Object(z.jsx)(o.a,{exact:!0,path:"/submit",children:Object(z.jsx)(q,{})}),Object(z.jsx)(o.a,{exact:!0,path:"/execute",children:Object(z.jsx)(D,{})}),Object(z.jsx)(o.a,{exact:!0,path:"/rotate",children:Object(z.jsx)(W,{})})]})]})})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,425)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};c.a.render(Object(z.jsx)(r.a.StrictMode,{children:Object(z.jsx)(_,{})}),document.getElementById("root")),K()},91:function(e,t,n){"use strict";n.r(t);t.default={rpc:"https://mainnet.tezos.marigold.dev/",network:"mainnet",tokens:[{tokenName:"Tezos Africa",tokenType:"multisig",multisigAddr:"KT1EotWbcpb2A9BfqM7cycsJUoMW4xfMzWMZ"},{tokenName:"Kuoka",tokenType:"multisig",multisigAddr:"KT1KonrgTNM4yLE8fa5bZzfHtzA2XNAgy59E"}]}}},[[391,1,2]]]);
//# sourceMappingURL=main.6aecfc5d.chunk.js.map